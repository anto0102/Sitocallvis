<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cinema Discovery</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"></script>
  <style>
    body {
      overflow-x: hidden;
    }

    .movie-container {
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .movie-container::-webkit-scrollbar {
      display: none;
    }

    .movie-card {
      transition: transform 0.3s ease;
    }

    .movie-card:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body class="bg-gray-950 text-white font-sans">
  <header class="bg-black px-4 py-4 flex flex-col items-center md:flex-row md:justify-between sticky top-0 z-10">
    <div class="flex items-center gap-2">
      <a href="profilo.html" class="text-white text-2xl bg-cyan-600 hover:bg-cyan-700 px-3 py-1 rounded-lg" title="Il mio profilo">👤</a>
      <h1 class="text-3xl font-bold ml-2">Cinema <span class="text-red-500">Discovery</span></h1>
    </div>
    <form id="search-form" class="mt-4 md:mt-0 flex gap-2 w-full md:w-auto">
      <input type="text" id="search-input" placeholder="Cerca un film o serie..." class="px-3 py-2 rounded-lg text-black w-full md:w-60" />
      <button type="submit" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg">🔍</button>
    </form>
    <div id="auth-area" class="mt-4 md:mt-0 flex gap-2">
      <button id="login-btn" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg">Accedi</button>
      <button id="logout-btn" class="bg-gray-700 hover:bg-gray-800 px-4 py-2 rounded-lg hidden">Logout</button>
    </div>
  </header>

  <main id="main-content" class="px-4 py-4 space-y-8">
    <section>
      <h2 class="text-xl font-semibold mb-2">🍿 Consigliati</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="consigliati"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">🔥 Titoli del momento</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="momento"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">🎭 Drammatici</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="drammatici"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">💥 Azione</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="azione"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">😂 Commedie</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="commedie"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">👻 Horror</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="horror"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">👨‍👩‍👧 Famiglia</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="famiglia"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">🚀 Fantascienza</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="fantascienza"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">💖 Romantici</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="romantici"></div>
    </section>
    <section>
      <h2 class="text-xl font-semibold mb-2">🎬 Documentari</h2>
      <div class="movie-container flex gap-4 overflow-x-auto pb-2" id="documentari"></div>
    </section>
  </main>

  <script>
    Clerk.configure({ publishableKey: "pk_test_b23saWdpbmctaWVyWxhLTc1LmNsZXJrLmFjY291bnRzLmRldiQ" });
    window.Clerk.load().then(async () => {
      const user = await Clerk.user;
      const loginBtn = document.getElementById("login-btn");
      const logoutBtn = document.getElementById("logout-btn");

      if (user) {
        loginBtn.classList.add("hidden");
        logoutBtn.classList.remove("hidden");
      } else {
        loginBtn.classList.remove("hidden");
        logoutBtn.classList.add("hidden");
      }

      logoutBtn.addEventListener("click", async () => {
        await Clerk.signOut();
        window.location.reload();
      });
    });
  </script>

  <script src="index.js"></script>
</body>
</html>
